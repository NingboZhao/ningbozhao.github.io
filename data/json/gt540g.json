{
  "body_html": "<p>X å¸‚å»ºäº†ä¸€ä¸ªæ–°çš„ä½“è‚²é¦†ï¼Œæ¯æ—¥äººæµé‡ä¿¡æ¯è¢«è®°å½•åœ¨è¿™ä¸‰åˆ—ä¿¡æ¯ä¸­ï¼š<strong>åºå·</strong>Â (id)ã€<strong>æ—¥æœŸ</strong>Â (date)ã€Â <strong>äººæµé‡</strong>(people)ã€‚</p><p>è¯·ç¼–å†™ä¸€ä¸ªæŸ¥è¯¢è¯­å¥ï¼Œæ‰¾å‡ºé«˜å³°æœŸæ—¶æ®µï¼Œè¦æ±‚è¿ç»­ä¸‰å¤©åŠä»¥ä¸Šï¼Œå¹¶ä¸”æ¯å¤©äººæµé‡å‡ä¸å°‘äº100ã€‚</p><p>ä¾‹å¦‚ï¼Œè¡¨Â <code>stadium</code>ï¼š</p><p><img alt=\"image.png\" title=\"image.png\" src=\"https://cdn.nlark.com/yuque/0/2019/png/85998/1549882601286-4c840295-5246-4d9f-8826-524fe8f12c6a.png#align=left&amp;display=inline&amp;height=246&amp;name=image.png&amp;originHeight=492&amp;originWidth=582&amp;size=50057&amp;status=done&amp;width=291\" style=\"max-width: 600px; width: 291px;\" /></p><p><br /></p><p>å¯¹äºä¸Šé¢çš„ç¤ºä¾‹æ•°æ®ï¼Œè¾“å‡ºä¸ºï¼š</p><p><img alt=\"image.png\" title=\"image.png\" src=\"https://cdn.nlark.com/yuque/0/2019/png/85998/1549882615003-1ea7c1dd-85c1-4cab-b0b4-a3b189f59c0d.png#align=left&amp;display=inline&amp;height=161&amp;name=image.png&amp;originHeight=322&amp;originWidth=552&amp;size=29498&amp;status=done&amp;width=276\" style=\"max-width: 600px; width: 276px;\" /></p><p><strong>Note:</strong><br />æ¯å¤©åªæœ‰ä¸€è¡Œè®°å½•ï¼Œæ—¥æœŸéšç€ id çš„å¢åŠ è€Œå¢åŠ ã€‚</p><p><br /></p><h3 id=\"7671deba\">ç­”æ¡ˆ</h3><pre data-lang=\"sql\"><code>select distinct a.*\nfrom stadium a,stadium b,stadium c\nwhere a.people &gt;= 100 and b.people &gt;= 100 and c.people &gt;= 100 and\n      (\n       (a.id+1 = b.id and b.id+1 = c.id) or\n       (a.id-1 = b.id and a.id+1 = c.id) or\n       (a.id-1 = c.id and a.id+1 = b.id) or\n       (a.id-2 = b.id and a.id-1 = c.id) or\n       (a.id-1 = b.id and a.id-2 = c.id)\n      )\norder by a.id</code></pre><p><br /></p><h3 id=\"7051dc52\">ç¬”è®°</h3><p>é«˜ç¥¨ç­”æ¡ˆä¸æˆ‘çš„é€»è¾‘ä¸€æ ·ï¼Œä½†å¦‚æœéœ€è¦è¿ç»­ n å¤©ï¼Œæ²¡åŠæ³•çµæ´»æ”¹åŠ¨ã€‚</p><p>æœ‰åˆ«äººçš„å†™æ³•ï¼š</p><p><br /></p><pre data-lang=\"sql\"><code>SELECT id, `date`, people\nFROM (\nSELECT id, `date`, people, @m := IF(k &gt;= 3 OR (@n - k &gt;= 0 AND k &gt; 0), 1, 0) AS t, @n := IF(k = 3, 3, @n - k) AS _2, k\nFROM (\nSELECT id, `date`, people, \n\t@i := IF(people &gt;= 100, 1, 0) AS _,\n\t@j := IF(@i = 1, @j + 1, 0) AS k\nFROM stadium , (SELECT @i:=0, @j:=0) __a \nORDER BY id\n) t , (SELECT @m:=0, @n:=0) __a \nORDER BY id DESC\n) a WHERE t = 1\nORDER BY id</code></pre><p><br /></p><pre data-lang=\"sql\"><code>å¯ä»¥è§£å†³åå‡ å¤©è¿ç»­è¶…è¿‡100äººçš„é—®é¢˜ï¼› å¼•å…¥å•ä¸ªå˜é‡ï¼› ä»£ç å¯è¯»æ€§å’Œå¯è¿ç§»æ€§ä¹Ÿè¿˜è¡Œ\nselect stadium.* from stadium\ninner join\n    (\n        select\n            id-rownum as diff\n            ,group_concat(id) as idlist\n        from\n            (\n                select\n                    @rownum:=@rownum+1 as rownum\n                    ,id\n                from stadium,(select @rownum :=0) t\n                where people&gt;=100\n            )t\n        group by id-rownum\n        having length(group_concat(id))-length(replace(group_concat(id),',',''))&gt;=2 #è¡¨ç¤ºè‡³å°‘å‡ºç°ä¸‰ä¸ªid\n    )t\n    on find_in_set(stadium.id,t.idlist)\n</code></pre><p><br /></p>",
  "slug": 1236532,
  "title": "ğŸ”´ 601. ä½“è‚²é¦†çš„äººæµé‡"
}