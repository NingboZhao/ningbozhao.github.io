{
  "body_html": "<p><br /></p><pre data-lang=\"sql\"><code>当前日期\nselect DATE_SUB(curdate(),INTERVAL 0 DAY) \n\n明天\nselect DATE_SUB(curdate(),INTERVAL -1 DAY)\n\n昨天\nselect DATE_SUB(curdate(),INTERVAL 1 DAY)\n\n前一个小时\nselect date_sub(now(), interval 1 hour)\n\n后一个小时\nselect date_sub(now(), interval -1 hour)\n\n前30分钟\nselect date_add(now(),interval -30 minute)\n\n后30分钟\nselect date_add(now(),interval 30 minute)</code></pre><p><br /></p><table class=\"lake-table\" style=\"width: 806px;\"><colgroup><col width=\"235\"></col><col width=\"570\"></col></colgroup><tbody><tr><td><p>函数</p></td><td><p>说明</p></td></tr><tr><td><p>CURDATE(),CURRENT_DATE()</p></td><td><p>返回当前日期</p><p>SELECT CURDATE()</p><p>-&gt;2014-12-17</p></td></tr><tr><td><p>CURTIME(),CURRENT_TIME</p></td><td><p>返回当前时间</p><p>SELECT CURTIME()</p><p>-&gt;15:59:02</p></td></tr><tr><td><p>NOW(),</p><p>CURRENT_TIMESTAMP(),</p><p>LOCALTIME(),</p><p>SYSDATE(),</p><p>LOCALTIMESTAMP()</p></td><td><p>返回当前日期和时间</p><p>SELECT NOW()</p><p>-&gt;2014-12-17 15:59:02</p></td></tr><tr><td><p>UNIX_TIMESTAMP()</p></td><td><p>以UNIX时间戳的形式返回当前时间</p><p>SELECT UNIX_TIMESTAMP()</p><p>-&gt;1418803177</p></td></tr><tr><td><p>UNIX_TIMESTAMP(d)</p></td><td><p>将时间d以UNIX时间戳的形式返回</p><p>SELECT UNIX_TIMESTAMP('2011-11-11 11:11:11')</p><p>-&gt;1320981071</p></td></tr><tr><td><p>FROM_UNIXTIME(d)</p></td><td><p>将UNIX时间戳的时间转换为普通格式的时间</p><p>SELECT FROM_UNIXTIME(1320981071)</p><p>-&gt;2011-11-11 11:11:11</p></td></tr><tr><td><p>UTC_DATE()</p></td><td><p>返回UTC日期</p><p>SELECT UTC_DATE()</p><p>-&gt;2014-12-17</p></td></tr><tr><td><p>UTC_TIME()</p></td><td><p>返回UTC时间</p><p>SELECT UTC_TIME()</p><p>-&gt;08:01:45 (慢了8小时)</p></td></tr><tr><td><p>MONTH(d)</p></td><td><p>返回日期d中的月份值，1-&gt;12</p><p>SELECT MONTH('2011-11-11 11:11:11')</p><p>-&gt;11</p></td></tr><tr><td><p>MONTHNAME(d)</p></td><td><p>返回日期当中的月份名称，如Janyary</p><p>SELECT MONTHNAME('2011-11-11 11:11:11')</p><p>-&gt;November</p></td></tr><tr><td><p>DAYNAME(d)</p></td><td><p>返回日期d是星期几，如Monday,Tuesday</p><p>SELECT DAYNAME('2011-11-11 11:11:11')</p><p>-&gt;Friday</p></td></tr><tr><td><p>DAYOFWEEK(d)</p></td><td><p>日期d今天是星期几，1星期日，2星期一</p><p>SELECT DAYOFWEEK('2011-11-11 11:11:11')</p><p>-&gt;6</p></td></tr><tr><td><p>WEEKDAY(d)</p></td><td><p>日期d今天是星期几，</p><p> 0表示星期一，1表示星期二</p></td></tr><tr><td><p>WEEK(d)，WEEKOFYEAR(d)</p></td><td><p>计算日期d是本年的第几个星期，范围是0-&gt;53</p><p>SELECT WEEK('2011-11-11 11:11:11')</p><p>-&gt;45</p></td></tr><tr><td><p>DAYOFYEAR(d)</p></td><td><p>计算日期d是本年的第几天</p><p>SELECT DAYOFYEAR('2011-11-11 11:11:11')</p><p>-&gt;315</p></td></tr><tr><td><p>DAYOFMONTH(d)</p></td><td><p>计算日期d是本月的第几天</p><p>SELECT DAYOFMONTH('2011-11-11 11:11:11')</p><p>-&gt;11</p></td></tr><tr><td><p>QUARTER(d)</p></td><td><p>返回日期d是第几季节，返回1-&gt;4</p><p>SELECT QUARTER('2011-11-11 11:11:11')</p><p>-&gt;4</p></td></tr><tr><td><p>HOUR(t)</p></td><td><p>返回t中的小时值</p><p>SELECT HOUR('1:2:3')</p><p>-&gt;1</p></td></tr><tr><td><p>MINUTE(t)</p></td><td><p>返回t中的分钟值</p><p>SELECT MINUTE('1:2:3')</p><p>-&gt;2</p></td></tr><tr><td><p>SECOND(t)</p></td><td><p>返回t中的秒钟值</p><p>SELECT SECOND('1:2:3')</p><p>-&gt;3</p></td></tr><tr><td><p>EXTRACT(type FROM d)</p></td><td><p>从日期d中获取指定的值，type指定返回的值</p><p>SELECT EXTRACT(MINUTE FROM '2011-11-11 11:11:11') </p><p>-&gt;11</p><p>type可取值为：</p><p>MICROSECOND</p><p>SECOND</p><p>MINUTE</p><p>HOUR</p><p>DAY</p><p>WEEK</p><p>MONTH</p><p>QUARTER</p><p>YEAR</p><p>SECOND_MICROSECOND</p><p>MINUTE_MICROSECOND</p><p>MINUTE_SECOND</p><p>HOUR_MICROSECOND</p><p>HOUR_SECOND</p><p>HOUR_MINUTE</p><p>DAY_MICROSECOND</p><p>DAY_SECOND</p><p>DAY_MINUTE</p><p>DAY_HOUR</p><p>YEAR_MONTH</p></td></tr><tr><td><p>TIME_TO_SEC(t)</p></td><td><p>将时间t转换为秒</p><p>SELECT TIME_TO_SEC('1:12:00')</p><p>-&gt;4320</p></td></tr><tr><td><p>SEC_TO_TIME(s)</p></td><td><p>将以秒为单位的时间s转换为时分秒的格式</p><p>SELECT SEC_TO_TIME(4320)</p><p>-&gt;01:12:00</p></td></tr><tr><td><p>TO_DAYS(d)</p></td><td><p>计算日期d距离0000年1月1日的天数</p><p>SELECT TO_DAYS('0001-01-01 01:01:01')</p><p>-&gt;366</p></td></tr><tr><td><p>FROM_DAYS(n)</p></td><td><p>计算从0000年1月1日开始n天后的日期</p><p>SELECT FROM_DAYS(1111)</p><p>-&gt;0003-01-16</p></td></tr><tr><td><p>DATEDIFF(d1,d2)</p></td><td><p>计算日期d1-&gt;d2之间相隔的天数</p><p>SELECT DATEDIFF('2001-01-01','2001-02-02')</p><p>-&gt;-32</p></td></tr><tr><td><p>ADDDATE(d,n)</p></td><td><p>计算其实日期d加上n天的日期</p></td></tr><tr><td><p>ADDDATE(d，INTERVAL expr type)</p></td><td><p>计算起始日期d加上一个时间段后的日期</p><p>SELECT ADDDATE('2011-11-11 11:11:11',1)</p><p>-&gt;2011-11-12 11:11:11 (默认是天)</p><p>SELECT ADDDATE('2011-11-11 11:11:11', INTERVAL 5 MINUTE)</p><p>-&gt;2011-11-11 11:16:11 (TYPE的取值与上面那个列出来的函数类似)</p></td></tr><tr><td><p>DATE_ADD(d,INTERVAL expr type)</p></td><td><p>同上</p></td></tr><tr><td><p>SUBDATE(d,n)</p></td><td><p>日期d减去n天后的日期</p><p>SELECT SUBDATE('2011-11-11 11:11:11', 1)</p><p>-&gt;2011-11-10 11:11:11 (默认是天)</p></td></tr><tr><td><p>SUBDATE(d,INTERVAL expr type)</p></td><td><p>日期d减去一个时间段后的日期</p><p>SELECT SUBDATE('2011-11-11 11:11:11', INTERVAL 5 MINUTE)</p><p>-&gt;2011-11-11 11:06:11 (TYPE的取值与上面那个列出来的函数类似)</p></td></tr><tr><td><p>ADDTIME(t,n)</p></td><td><p>时间t加上n秒的时间</p><p>SELECT ADDTIME('2011-11-11 11:11:11', 5)</p><p>-&gt;2011-11-11 11:11:16 (秒)</p></td></tr><tr><td><p>SUBTIME(t,n)</p></td><td><p>时间t减去n秒的时间</p><p>SELECT SUBTIME('2011-11-11 11:11:11', 5)</p><p>-&gt;2011-11-11 11:11:06 (秒)</p></td></tr><tr><td><p>DATE_FORMAT(d,f)</p></td><td><p>按表达式f的要求显示日期d</p><p>SELECT DATE_FORMAT('2011-11-11 11:11:11','%Y-%m-%d %r')</p><p>-&gt;2011-11-11 11:11:11 AM</p></td></tr><tr><td><p>TIME_FORMAT(t,f)</p></td><td><p>按表达式f的要求显示时间t</p><p>SELECT TIME_FORMAT('11:11:11','%r')</p><p>11:11:11 AM</p></td></tr><tr><td><p>GET_FORMAT(type,s)</p></td><td><p>获得国家地区时间格式函数</p><p>select get_format(date,'usa')</p><p>-&gt;%m.%d.%Y (注意返回的就是这个奇怪的字符串(format字符串))</p></td></tr></tbody></table>",
  "slug": 1087993,
  "title": "MySQL 时间函数"
}