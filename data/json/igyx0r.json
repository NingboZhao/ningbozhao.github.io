{
  "body_html": "<p>等级：困难</p><h3 id=\"YBmQH\">题目</h3><p><br /></p><pre data-lang=\"sql\"><code>drop table student\ncreate Table student (name varchar(25),continent varchar(25));\n \ninsert into student values('Jack','America')\ninsert into student values('Pascal','Europe')\ninsert into student values('Xi','Asia')\ninsert into student values('Jane','America')\n\n</code></pre><p>A U.S graduate school has students from Asia, Europe and America. The students' location information are stored in table <code>student</code> as below.</p><p><span class=\"lake-fontsize-12\" style=\"color: #4F4F4F;\"><br /></span></p><p>Pivot the continent column in this table so that each name is sorted alphabetically and displayed underneath its corresponding continent. The output headers should be America, Asia and Europe respectively. It is guaranteed that the student number from America is no less than either Asia or Europe.</p><p><br /></p><p><strong>Follow-up:</strong><span style=\"color: #333333; background-color: #FAFAFA;\"> If it is unknown which continent has the most students, can you write a query to generate the student report?</span></p><p><br /></p><p>大致意思是：旋转这张表，列变行，达成下面的效果。你并不知道有多少学生。</p><p><br /></p><pre data-lang=\"sql\"><code>--Before\n| name   | continent |\n|--------|-----------|\n| Jack   | America   |\n| Pascal | Europe    |\n| Xi     | Asia      |\n| Jane   | America   |\n\n--After\n| America | Asia | Europe |\n|---------|------|--------|\n| Jack    | Xi   | Pascal |\n| Jane    |      |        |\n\n\n</code></pre><p><br /></p><h3 id=\"mIIgM\">思路</h3><p>按大洲分组，然后给给每个学生加上一个编号，跟 row_number() 的思路一样，然后再 FULL JOIN，大致形成这样一个表：</p><p><img alt=\"image.png\" title=\"image.png\" src=\"https://cdn.nlark.com/yuque/0/2019/png/85998/1558680713720-5c3e00d2-9cc9-4cbd-bebe-803b564c4c2c.png#align=left&amp;display=inline&amp;height=242&amp;name=image.png&amp;originHeight=484&amp;originWidth=776&amp;size=168086&amp;status=done&amp;width=388\" style=\"max-width: 600px; width: 388px;\" /></p><p><br /></p><p>这就产生了一个问题，MySQL 中没有 <span>row_number() </span>那么好用的开窗函数，怎么办？🙂</p><p><br /></p><p><br /></p><p><br /></p>",
  "slug": 1768181,
  "title": "🔴 618. Students Report By Geography"
}